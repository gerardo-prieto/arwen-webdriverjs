var chai        = require('chai'),
    assert      = chai.assert,
    expect      = chai.expect,
    webdriverjs = require('../index');

var config = require('../config');

var argv = require('optimist').demand('env').argv;
var baseURL = argv.env;
var platform = argv.platform;

describe('my webdriverjs tests', function(){

    this.timeout(99999999);
    var client = {};

    before(function(done){
            client = webdriverjs.remote({ desiredCapabilities: {browserName: 'firefox'} });
            client.init(done);
            pages = require('../pages')(client, baseURL, platform);
    });

/*
    it('POST - Anonymous - No price - @wap @html4 @html5',function(done) {
        pages.Home.go();
        pages.Home.goToPostingPage();
        pages.Posting.selectCityCategoryAndSubcategory();
        pages.Posting.postWith("Title for testing", "Description for testing", "" , "Mark tester", "1231231231", "robot_test@olx.com");
        pages.AfterPosting.openAdLink();
        pages.AfterPosting.isItemDisplayed();
        client.call(done);
    });

    it('POST - Anonymous - With price - @wap @html4 @html5 ', function(done) {
        pages.Home.go();
        pages.Home.goToPostingPage();
        pages.Posting.selectCityCategoryAndSubcategory(362,378);
        pages.Posting.postWith("Title for testing","Description for testing", "2000" , "Mark tester", "1231231231", "robotest@olx.com");
        pages.AfterPosting.openAdLink();
        pages.AfterPosting.isItemDisplayed();
        client.call(done);
     });


    it('POST - Logged In - No price - @html4 @html5', function(done) {
        pages.Home.go();
        pages.Home.goToLoginPage();
        pages.Login.logInWith('robotest@olx.com', 'robotpass');
        pages.Home.goToPostingPage();
        pages.Posting.selectCityCategoryAndSubcategory();
        pages.Posting.postWith("Title for testing","Description for testing", "" , "Mark tester", "1231231231", "robot_test@olx.com");
        pages.AfterPosting.openAdLink();
        pages.AfterPosting.isItemDisplayed();
        client.call(done);
    });


    it('POST - Logged In - With price - @html4 @html5', function(done) {
        pages.Home.go();
        pages.Home.goToLoginPage();
        pages.Login.logInWith('robotest@olx.com', 'robotpass');
        pages.Home.goToPostingPage();
        pages.Posting.selectCityCategoryAndSubcategory(362,378);
        pages.Posting.postWith("Title for testing","Description for testing", "2000" , "Mark tester", "1231231231", "robot_test@olx.com");
        pages.AfterPosting.openAdLink();
        pages.AfterPosting.isItemDisplayed();
        client.call(done);
    });

*/

    it('LOGIN with valid user - @html4 @html5', function(done) {
        pages.Home.go();
        pages.Home.goToLoginPage();
        pages.Login.logInWith('robotest@olx.com', 'robotpass');
    //    pages.Home.isUserLoggedIn();
        client.call(done);
    });


    after(function(done) {
        client.end(done);
    });
});
